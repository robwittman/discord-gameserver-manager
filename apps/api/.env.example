# API Server Configuration
PORT=3000
HOST=0.0.0.0

# Database
DATABASE_PATH=./data/servers.db

# Job Runner
DISABLE_JOB_RUNNER=false
JOB_POLL_INTERVAL_MS=5000
PORT_RETRY_INTERVAL_MS=30000
MAX_CONCURRENT_JOBS=3

# =============================================================================
# Host Configuration
# =============================================================================

# Internal IP of the game server host (LXC/VM internal network)
HOST_INTERNAL=10.0.0.50

# External/public IP for client connections
HOST_EXTERNAL=your.public.ip.here

# =============================================================================
# Port Pools
# =============================================================================

# Game server port range
PORT_POOL_GAME_START=27000
PORT_POOL_GAME_END=27499

# SFTP access port range
PORT_POOL_SFTP_START=2200
PORT_POOL_SFTP_END=2299

# =============================================================================
# Proxmox Configuration (Optional)
# =============================================================================
# Leave empty/unset to disable Proxmox integration
# (servers will require manual internalAddress assignment)

# Proxmox VE API endpoint
PROXMOX_HOST=https://proxmox.local:8006

# API Token (create in Datacenter > Permissions > API Tokens)
# Format: user@realm!tokenname
PROXMOX_TOKEN_ID=root@pam!gameservers
PROXMOX_TOKEN_SECRET=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Default Proxmox node for VM creation
PROXMOX_NODE=pve

# Storage for VM disks
PROXMOX_STORAGE=local-lvm

# Network bridge for VMs
PROXMOX_NETWORK_BRIDGE=vmbr0

# VLAN tag for VM network interface (optional, 1-4094)
# PROXMOX_VLAN_TAG=100

# VM ID range for game servers
PROXMOX_VMID_START=200
PROXMOX_VMID_END=299

# Timeouts (seconds)
PROXMOX_TIMEOUT_CLONE=120
PROXMOX_TIMEOUT_START=60
PROXMOX_TIMEOUT_GUEST_AGENT=180

# =============================================================================
# Base Cloud Image
# =============================================================================
# VM ID of a cloud image to clone from (e.g., Ubuntu Cloud, Debian Cloud)
# The image should have:
#   - cloud-init installed
#   - qemu-guest-agent installed (or installed via cloud-init user-data)
#
# To create a base image:
#   1. Download a cloud image (e.g., https://cloud-images.ubuntu.com/)
#   2. Import into Proxmox: qm importdisk <vmid> <image> <storage>
#   3. Configure as template with cloud-init drive
#
# See docs/PROXMOX_SETUP.md for detailed instructions
PROXMOX_BASE_IMAGE_VMID=9000

# =============================================================================
# Cloud-Init Configuration
# =============================================================================
# SSH public key for accessing VMs (paste your public key here)
PROXMOX_SSH_PUBLIC_KEY=ssh-ed25519 AAAA... your-key-comment

# Default user created by cloud-init
PROXMOX_CI_USER=gameserver

# DNS configuration (optional)
# PROXMOX_CI_NAMESERVER=8.8.8.8
# PROXMOX_CI_SEARCH_DOMAIN=local

# =============================================================================
# Default VM Resources
# =============================================================================
# Default resources for new VMs (can be overridden per-game)
PROXMOX_DEFAULT_CORES=2
PROXMOX_DEFAULT_MEMORY=4096
PROXMOX_DEFAULT_DISK=32

# =============================================================================
# Game-Specific Resource Overrides (Optional)
# =============================================================================
# Format: PROXMOX_RESOURCES_<GAME>=cores:memory:disk
# Example: PROXMOX_RESOURCES_VALHEIM=2:8192:50
#
# PROXMOX_RESOURCES_VALHEIM=2:8192:50
# PROXMOX_RESOURCES_MINECRAFT=4:8192:100

# =============================================================================
# Ansible Configuration
# =============================================================================

# Path to ansible directory (default: ./ansible)
# ANSIBLE_DIR=/path/to/ansible

# Path to inventory file (default: $ANSIBLE_DIR/inventory.ini)
# ANSIBLE_INVENTORY=/path/to/inventory.iniq