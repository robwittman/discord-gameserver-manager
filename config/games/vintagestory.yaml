id: vintagestory
name: Vintage Story Server
# No Steam App ID - uses standalone installer

# LGSM server name
lgsmServerName: vintsserver

ports:
  game:
    port: 42420
    protocol: tcp
    description: "Game port"

resources:
  minMemoryMb: 2048
  recommendedMemoryMb: 4096
  minCpuCores: 2
  diskSpaceGb: 5

# Use generic LGSM playbooks
playbooks:
  provision: playbooks/lgsm-provision.yaml
  start: playbooks/lgsm-start.yaml
  stop: playbooks/lgsm-stop.yaml
  backup: playbooks/lgsm-backup.yaml
  installMods: playbooks/install-mods.yaml

configSchema:
  serverName:
    type: string
    required: true
    description: "Server name shown in browser"
  worldName:
    type: string
    required: true
    default: "default"
    description: "World/save name"
  password:
    type: string
    required: false
    description: "Server password (leave empty for no password)"
  maxPlayers:
    type: number
    required: false
    default: 16
    description: "Maximum number of players"
  worldSeed:
    type: string
    required: false
    description: "World generation seed"
  public:
    type: boolean
    required: false
    default: true
    description: "List server in public server browser"

connectionTemplate:
  title: "Vintage Story Server Connection"
  lines:
    - "**Server:** {config.serverName}"
    - "**Address:** {host}:{ports.game}"
    - "**Password:** ||{config.password}||"
    - "**Max Players:** {config.maxPlayers}"
    - ""
    - "To connect: Multiplayer > Add Server"
    - "Enter the address above"

# Mod support configuration
modsConfig:
  enabled: true
  source: vintagestory
  fileFormat: zip-keep
  # Custom mods go in data/vintsserver/Mods (separate from base game mods in serverfiles/Mods)
  installPath: data/vintsserver/Mods
  repositoryUrl: https://mods.vintagestory.at/
  notes: |
    Vintage Story mods are .zip files that should NOT be extracted.
    Mods must match the server's game version.
    Server ModPaths must include "data/vintsserver/Mods".
