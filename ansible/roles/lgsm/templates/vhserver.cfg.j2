## Valheim Server Configuration
## Managed by Discord Server Manager - Do not edit manually

# Server identity
servername="{{ game_config.serverName | default(server_name) }}"
serverpassword="{{ game_config.password | default('') }}"
worldname="{{ game_config.worldName | default('Dedicated') }}"

# Network
port="{{ ports.game }}"
public="{{ game_config.public | default(true) | ternary('1', '0') }}"

# Save interval (seconds)
saveinterval="{{ game_config.saveInterval | default(1800) }}"

# Backup count
backupcount="{{ game_config.backupCount | default(3) }}"

# Override start parameters to control crossplay
{% if game_config.crossplay | default(false) %}
startparameters="-name '${servername}' -password ${serverpassword} -port ${port} -world ${worldname} -public ${public} -savedir '${savedir}' -saveinterval ${saveinterval} -backups ${backups} -backupshort ${backupshort} -backuplong ${backuplong} -crossplay -instanceid ${instanceid}"
{% else %}
startparameters="-name '${servername}' -password ${serverpassword} -port ${port} -world ${worldname} -public ${public} -savedir '${savedir}' -saveinterval ${saveinterval} -backups ${backups} -backupshort ${backupshort} -backuplong ${backuplong} -instanceid ${instanceid}"
{% endif %}
